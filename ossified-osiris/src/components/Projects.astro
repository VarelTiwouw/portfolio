---
import { projects } from "../data/portfolio";
---

<section
	id="work"
	class="relative section-padding reveal"
>
	<div class="mx-auto max-w-6xl px-6">
		<!-- Section header -->
		<div class="reveal-child flex items-end justify-between mb-12">
			<div>
				<p class="font-sans text-xs tracking-widest uppercase text-muted mb-2">Portfolio</p>
				<h2 class="blur-in font-sans text-3xl md:text-4xl font-semibold tracking-tight text-paper">
					My Projects
				</h2>
			</div>
			<p class="hidden md:block text-xs text-muted font-mono tracking-widest uppercase">
				{projects.length} projects
			</p>
		</div>

		<!-- Project list -->
		<div class="space-y-8">
			{projects.map((project, index) => (
				<article
					class="reveal-child glass-container group overflow-hidden transition-all duration-500 hover:scale-[1.01]"
					data-tilt
					data-tilt-perspective="1000"
					data-slide={index}
				>
					<div class="grid md:grid-cols-[1fr_1.2fr] gap-0">
						<!-- Image -->
						<div class="aspect-[16/10] md:aspect-auto bg-neutral-900/50 overflow-hidden parallax-wrap">
							<img
								src={project.image}
								alt={project.title}
								loading="lazy"
								class="h-full w-full object-cover parallax-img transition-transform duration-700 group-hover:scale-105"
							/>
						</div>

						<!-- Content -->
						<div class="p-6 md:p-8 lg:p-10 flex flex-col justify-between">
							<div>
								<!-- Number + Role -->
								<div class="flex items-center justify-between mb-4">
									<span class="text-4xl md:text-5xl font-bold text-paper/10 font-sans tabular-nums">
										{String(index + 1).padStart(2, '0')}
									</span>
									<span class="text-xs font-mono tracking-widest uppercase text-muted">
										{project.year}
									</span>
								</div>

								<!-- Title -->
								<h3 class="blur-in font-sans text-xl sm:text-2xl md:text-3xl font-semibold tracking-tight text-paper leading-snug mb-3" style="--blur-delay: 100ms">
									{project.title}
								</h3>

								<!-- Role -->
								<p class="text-xs font-mono tracking-widest uppercase text-accent/70 mb-4">
									{project.role}
								</p>

								<!-- Summary -->
								<p class="blur-in text-sm md:text-base text-paper font-sans leading-relaxed mb-6" style="--blur-delay: 200ms">
									{project.summary}
								</p>
							</div>

							<!-- Stack tags -->
							<div class="flex flex-wrap gap-2">
								{project.stack.map((item) => (
									<span class="text-xs font-mono tracking-wider text-muted/60 px-3 py-1 rounded-full border border-neutral-800/30 bg-neutral-900/20">
										{item}
									</span>
								))}
							</div>
						</div>
					</div>
				</article>
			))}
		</div>
	</div>
</section>
